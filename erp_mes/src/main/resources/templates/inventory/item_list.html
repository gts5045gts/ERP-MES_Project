<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<head>
<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
</head>

<body>
<th:block layout:fragment="content">
    <div class="container-fluid">
        <h1 class="h3 mb-4 text-gray-800">제품(완/반) 관리</h1>
        
        <!-- 검색 영역 -->
        <div class="card shadow mb-4">
            <div class="card-body">
                <form>
                    <div class="row">
                        <div class="col-md-2">
                            <select class="form-control">
                                <option value="">제품구분 전체</option>
                                <option value="강재">강재</option>
                                <option value="알루미늄">알루미늄</option>
                                <option value="주철">주철</option>
                                <option value="동합금">동합금</option>
                                <option value="티타늄">티타늄</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select class="form-control">
                                <option value="">제품유형 전체</option>
                                <option value="완제품">완제품</option>
                                <option value="반제품">반제품</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <input type="text" class="form-control" placeholder="제품코드 또는 제품명">
                        </div>
                        <div class="col-md-3">
                            <button type="button" class="btn btn-primary">검색</button>
                            <button type="button" class="btn btn-secondary">초기화</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- 제품 테이블 -->
        <div class="card shadow mb-4">
            <div class="card-header py-3 d-flex justify-content-between">
                <h6 class="m-0 font-weight-bold text-primary">제품 목록</h6>
                <div>
                    <button class="btn btn-success btn-sm" onclick="addProduct()">
                        <i class="fas fa-plus"></i> 추가
                    </button>
                    <button class="btn btn-danger btn-sm" onclick="deleteSelected()">
                        <i class="fas fa-trash"></i> 삭제
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered text-center">
                        <thead class="thead-light">
                            <tr>
                                <th width="5%">
                                    <input type="checkbox" id="selectAll">
                                </th>
                                <th width="15%">제품코드</th>
                                <th width="25%">제품명</th>
                                <th width="15%">제품구분</th>
                                <th width="15%">제품유형</th>
                                <th width="12%">등록자</th>
                                <th width="13%">등록일</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000022</td>
                                <td>자동차 서스펜션 스프링</td>
                                <td><span class="badge badge-light text-secondary" style="font-size: 14px;">강재</span></td>
                                <td><span class="badge badge-light text-primary" style="font-size: 14px;">완제품</span></td>
                                <td>25070005</td>
                                <td>2025-07-10</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000021</td>
                                <td>브레이징 합금</td>
                                <td><span class="badge badge-light text-danger" style="font-size: 14px;">동합금</span></td>
                                <td><span class="badge badge-light text-primary" style="font-size: 14px;">완제품</span></td>
                                <td>25070005</td>
                                <td>2025-07-10</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000020</td>
                                <td>금형 슬라이더 블록</td>
                                <td><span class="badge badge-light text-secondary" style="font-size: 14px;">강재</span></td>
                                <td><span class="badge badge-light text-info" style="font-size: 14px;">반제품</span></td>
                                <td>25070001</td>
                                <td>2025-07-08</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000019</td>
                                <td>히터 카트리지 세트</td>
                                <td><span class="badge badge-light text-warning" style="font-size: 14px;">알루미늄</span></td>
                                <td><span class="badge badge-light text-info" style="font-size: 14px;">반제품</span></td>
                                <td>25070001</td>
                                <td>2025-07-08</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000018</td>
                                <td>가스 스프링 어셈블리</td>
                                <td><span class="badge badge-light text-secondary" style="font-size: 14px;">강재</span></td>
                                <td><span class="badge badge-light text-info" style="font-size: 14px;">반제품</span></td>
                                <td>25070001</td>
                                <td>2025-07-08</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000017</td>
                                <td>센서 마운트 브라켓</td>
                                <td><span class="badge badge-light text-warning" style="font-size: 14px;">알루미늄</span></td>
                                <td><span class="badge badge-light text-info" style="font-size: 14px;">반제품</span></td>
                                <td>25070001</td>
                                <td>2025-07-08</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000016</td>
                                <td>롤링 편 모듈</td>
                                <td><span class="badge badge-light text-dark" style="font-size: 14px;">주철</span></td>
                                <td><span class="badge badge-light text-info" style="font-size: 14px;">반제품</span></td>
                                <td>25070001</td>
                                <td>2025-07-08</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000013</td>
                                <td>가전제품 패널 금형</td>
                                <td><span class="badge badge-light text-secondary" style="font-size: 14px;">강재</span></td>
                                <td><span class="badge badge-light text-primary" style="font-size: 14px;">완제품</span></td>
                                <td>25070001</td>
                                <td>2025-07-08</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000012</td>
                                <td>의료기기 케이스 금형</td>
                                <td><span class="badge badge-light text-info" style="font-size: 14px;">티타늄</span></td>
                                <td><span class="badge badge-light text-primary" style="font-size: 14px;">완제품</span></td>
                                <td>25070001</td>
                                <td>2025-07-08</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="item-check"></td>
                                <td>P0000011</td>
                                <td>포장용기 금형</td>
                                <td><span class="badge badge-light text-warning" style="font-size: 14px;">알루미늄</span></td>
                                <td><span class="badge badge-light text-primary" style="font-size: 14px;">완제품</span></td>
                                <td>25070001</td>
                                <td>2025-07-08</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</th:block>

<th:block layout:fragment="script">
<script>
document.getElementById('selectAll').addEventListener('change', function() {
    const checkboxes = document.querySelectorAll('.item-check');
    checkboxes.forEach(cb => cb.checked = this.checked);
});

function addProduct() {
    console.log('제품 추가');
    // 추가 모달 또는 페이지 이동
}

function deleteSelected() {
    const checked = document.querySelectorAll('.item-check:checked');
    if (checked.length === 0) {
        alert('삭제할 항목을 선택해주세요.');
        return;
    }
    if (confirm(checked.length + '개 항목을 삭제하시겠습니까?')) {
        console.log('삭제 처리');
    }
}
</script>
</th:block>
</body>
</html>